<!DOCTYPE html>
<html lang="de">
<head>
  <script type="speculationrules">
    {
      "prerender": [{ "where": { "href_matches": "/*" }, "eagerness": "moderate" }],
      "prefetch": [{ "where": { "href_matches": "/*" }, "eagerness": "moderate" }]
    }
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Hausarztpraxis Dr. Yilmaz in Krumbach, Bayern. Moderne Allgemeinmedizin, Vorsorge, Impfungen, Hausbesuche, freundliches Team.">
  <meta name="keywords" content="Hausarzt, Krumbach, Bayern, Allgemeinmedizin, Vorsorge, Praxis, Arzt, Team, Kontakt, Termin">
  <title>Hausarztpraxis Krumbach | Ihre Gesundheit in guten H√§nden</title>
  <!-- Tailwind CSS & Fonts -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="./dist/output.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%231E6BDB'%3E%3Cpath d='M3 10.5L12 3l9 7.5V20a2 2 0 0 1-2 2h-5v-6H10v6H5a2 2 0 0 1-2-2v-9.5z'/%3E%3C/svg%3E">
  <!-- Goo filter for liquid animation -->
  <svg aria-hidden="true" focusable="false" width="0" height="0" style="position:absolute">
    <filter id="goo">
      <feGaussianBlur in="SourceGraphic" stdDeviation="8" result="blur"/>
      <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="goo"/>
      <feComposite in="SourceGraphic" in2="goo" operator="atop"/>
    </filter>
  </svg>
  <style>
    /* Performance optimizations */
    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body { text-rendering: optimizeSpeed; }
    

    
    /* Flip Card Animations */
    .flip-card { 
      perspective: 1000px; 
      background-color: transparent; 
      height: 400px; 
    }
    .flip-card-inner { 
      position: relative; 
      width: 100%; 
      height: 100%; 
      transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1); 
      transform-style: preserve-3d; 
      cursor: pointer; 
    }
    .flip-card:hover .flip-card-inner { transform: rotateY(180deg); }
    .flip-card-front, .flip-card-back { 
      position: absolute; 
      width: 100%; 
      height: 100%; 
      backface-visibility: hidden; 
      -webkit-backface-visibility: hidden;
    }
    .flip-card-back { transform: rotateY(180deg); background-size: cover; background-position: center; }
    .flip-card-back-overlay { 
      position: absolute; 
      inset: 0; 
      background: rgba(30, 107, 219, 0.8); 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      padding: 2rem; 
      color: white; 
      border-radius: 18px;
    }
    

    .form-input:focus {
      border-color: #1E6BDB;
      box-shadow: 0 0 0 3px rgba(30, 107, 219, 0.2);
    }

    .glass-effect { background: linear-gradient(to right, rgba(30, 107, 219, 0.95), rgba(51, 65, 85, 0.95)); border-bottom: 1px solid rgba(255,255,255,0.1); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.2); }
    .mobile-menu { position: fixed; inset: 0; z-index: 40; pointer-events: none; }
    .mobile-menu.active { pointer-events: auto; }
    .mobile-dropdown { 
      position: fixed; 
      left: 50%; 
      top: 84px; 
      transform: translate(-50%, -10px) scaleY(0.2) translateZ(0); 
      transform-origin: 50% 0; 
      width: calc(100% - 2rem); 
      max-width: 520px; 
      opacity: 0; 
      transition: transform 210ms cubic-bezier(.22,.61,.36,1), opacity 210ms ease; 
      border-radius: 28px; 
      overflow: hidden;
      will-change: transform, opacity;
    }
    .mobile-menu.active .mobile-dropdown { 
      transform: translate(-50%, 0) scaleY(1) translateZ(0); 
      opacity: 1; 
    }
    .mobile-dropdown::before { content:''; position:absolute; top:-18px; left:50%; transform:translateX(-50%); width:72px; height:36px; background: rgba(255,255,255,0.28); border-radius: 36px 36px 0 0; filter: url(#goo); opacity:0; }
    .mobile-menu.opening .mobile-dropdown::before { animation: blobIn 420ms ease forwards; }
    .mobile-menu.closing .mobile-dropdown::before { animation: blobOut 420ms ease forwards; }
    @keyframes blobIn { 0%{ opacity:1; transform: translateX(-50%) translateY(-12px) scaleX(.5); height:36px; } 70%{ opacity:1; transform: translateX(-50%) translateY(0) scaleX(1.1); height:18px; } 100%{ opacity:0; transform: translateX(-50%) translateY(0) scaleX(1); height:0; } }
    @keyframes blobOut { 0%{ opacity:0; height:0; transform: translateX(-50%) translateY(0) scaleX(1);} 30%{ opacity:1; height:18px; } 100%{ opacity:1; transform: translateX(-50%) translateY(-12px) scaleX(.5); height:36px; } }
             .overlay { opacity: 0; transition: opacity 0.4s ease; }
    .mobile-menu.active .overlay { opacity: 1; }
         body.menu-open { overflow: auto; }
    .hamburger span { transition: all 0.3s ease-in-out; }
    .hamburger.active span:nth-child(1) { transform: rotate(45deg) translate(5px, 5px); }
    .hamburger.active span:nth-child(2) { opacity: 0; }
    .hamburger.active span:nth-child(3) { transform: rotate(-45deg) translate(7px, -7px); }

    
    /* Permanent gradient border for hero card */
    .permanent-gradient-border {
      position: relative;
      background: linear-gradient(90deg, #1E6BDB 0%, #36B37E 100%);
      padding: 2px;
      border-radius: 20px; /* 18px + 2px padding */
    }
    .permanent-gradient-border > * {
      background: white;
      border-radius: 18px;
    }
    
    /* Cursor styles for interactive elements */
    .hamburger,
    .close-mobile,
    .cta-button,
    button[type="submit"],
    .nav-link,
    a[href] {
      cursor: pointer !important;
    }
  </style>
</head>
<body class="font-sans bg-subtle">
  <!-- Cookie Banner -->
  <div id="cookie-banner" class="fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-lg transform translate-y-full transition-transform duration-500 ease-in-out">
    <div class="max-w-7xl mx-auto px-4 py-6">
      <div class="flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4">
        <div class="flex-1">
          <h3 class="text-lg font-semibold text-high mb-2">üç™ Cookie-Einstellungen</h3>
          <p class="text-medium text-sm leading-relaxed">
            Wir verwenden Cookies und √§hnliche Technologien, um Ihnen die bestm√∂gliche Erfahrung auf unserer Website zu bieten. 
            Einige Cookies sind f√ºr den Betrieb der Website erforderlich, andere helfen uns dabei, die Website zu verbessern. 
            Sie k√∂nnen Ihre Einstellungen jederzeit √§ndern.
          </p>
        </div>
        <div class="flex flex-col sm:flex-row gap-3 w-full lg:w-auto">
          <button id="cookie-accept-all" class="bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-btn font-medium transition-all duration-300 hover:scale-105 transform shadow-lg">
            Alle akzeptieren
          </button>
          <button id="cookie-accept-essential" class="bg-subtle hover:bg-gray-200 text-high px-6 py-3 rounded-btn font-medium transition-all duration-300 border border-gray-300">
            Nur erforderliche
          </button>
          <button id="cookie-settings" class="bg-white hover:bg-gray-50 text-primary px-6 py-3 rounded-btn font-medium transition-all duration-300 border border-primary">
            Einstellungen
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Cookie Settings Modal -->
  <div id="cookie-settings-modal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>
    <div class="absolute inset-0 flex items-center justify-center p-4">
      <div class="bg-white rounded-card shadow-card max-w-2xl w-full max-h-[90vh] overflow-y-auto">
        <div class="p-6 border-b border-gray-200">
          <div class="flex items-center justify-between">
            <h2 class="text-2xl font-bold text-high">Cookie-Einstellungen</h2>
            <button id="close-cookie-settings" class="text-gray-400 hover:text-gray-600 transition-colors">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>
        </div>
        
        <div class="p-6 space-y-6">
          <!-- Essential Cookies -->
          <div class="border border-gray-200 rounded-card p-4">
            <div class="flex items-center justify-between mb-3">
              <div>
                <h3 class="font-semibold text-high">Erforderliche Cookies</h3>
                <p class="text-sm text-medium">Diese Cookies sind f√ºr den Betrieb der Website unerl√§sslich</p>
              </div>
              <div class="flex items-center">
                <input type="checkbox" id="essential-cookies" checked disabled class="w-4 h-4 text-primary bg-gray-100 border-gray-300 rounded focus:ring-primary">
                <label for="essential-cookies" class="ml-2 text-sm text-medium">Immer aktiv</label>
              </div>
            </div>
            <ul class="text-sm text-medium space-y-1">
              <li>‚Ä¢ PHP Session Cookies (f√ºr Kontaktformular)</li>
              <li>‚Ä¢ CSRF-Schutz-Token</li>
              <li>‚Ä¢ Cookie-Einwilligungspr√§ferenzen</li>
            </ul>
          </div>

          <!-- Analytics Cookies -->
          <div class="border border-gray-200 rounded-card p-4">
            <div class="flex items-center justify-between mb-3">
              <div>
                <h3 class="font-semibold text-high">Analyse-Cookies</h3>
                <p class="text-sm text-medium">Helfen uns dabei, die Website zu verbessern</p>
              </div>
              <div class="flex items-center">
                <input type="checkbox" id="analytics-cookies" class="w-4 h-4 text-primary bg-gray-100 border-gray-300 rounded focus:ring-primary">
                <label for="analytics-cookies" class="ml-2 text-sm text-medium">Aktivieren</label>
              </div>
            </div>
            <ul class="text-sm text-medium space-y-1">
              <li>‚Ä¢ Google Fonts (Schriftarten)</li>
              <li>‚Ä¢ Font Awesome (Icons)</li>
              <li>‚Ä¢ Website-Performance-Metriken</li>
            </ul>
          </div>

          <!-- Marketing Cookies -->
          <div class="border border-gray-200 rounded-card p-4">
            <div class="flex items-center justify-between mb-3">
              <div>
                <h3 class="font-semibold text-high">Marketing-Cookies</h3>
                <p class="text-sm text-medium">F√ºr personalisierte Inhalte und externe Medien</p>
              </div>
              <div class="flex items-center">
                <input type="checkbox" id="marketing-cookies" class="w-4 h-4 text-primary bg-gray-100 border-gray-300 rounded focus:ring-primary">
                <label for="marketing-cookies" class="ml-2 text-sm text-medium">Aktivieren</label>
              </div>
            </div>
            <ul class="text-sm text-medium space-y-1">
              <li>‚Ä¢ OpenStreetMap (Karten)</li>
              <li>‚Ä¢ Unsplash (Bilder)</li>
              <li>‚Ä¢ Externe Medien</li>
            </ul>
          </div>
        </div>

        <div class="p-6 border-t border-gray-200 bg-gray-50">
          <div class="flex flex-col sm:flex-row gap-3">
            <button id="save-cookie-settings" class="bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-btn font-medium transition-all duration-300">
              Einstellungen speichern
            </button>
            <button id="cancel-cookie-settings" class="bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-3 rounded-btn font-medium transition-all duration-300">
              Abbrechen
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Header & Navigation -->
  <nav id="floating-nav" class="fixed top-6 left-1/2 transform -translate-x-1/2 z-50 transition-transform duration-300">
    <div class="bg-white/90 border border-white/30 rounded-full shadow-lg px-6 py-3">
      <div class="flex items-center space-x-8">
      <a href="/" class="text-lg font-bold text-primary hover:text-primary-dark transition-colors duration-300 flex items-center gap-2" aria-label="Startseite">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 md:w-7 md:h-7 text-primary" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M3 10.5L12 3l9 7.5V20a2 2 0 0 1-2 2h-5v-6H10v6H5a2 2 0 0 1-2-2v-9.5z"/></svg>
      </a>
      <div class="hidden md:flex items-center space-x-6">
        <a href="#aktuelles" class="nav-link text-high hover:text-primary px-3 py-2 text-sm font-medium transition-all duration-300 relative group">
          <span>Aktuelles</span>
          <span class="absolute bottom-0 left-0 w-full h-0.5 bg-primary transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></span>
        </a>
        
        <a href="#leistungen" class="nav-link text-high hover:text-primary px-3 py-2 text-sm font-medium transition-all duration-300 relative group">
            <span>Leistungen</span>
            <span class="absolute bottom-0 left-0 w-full h-0.5 bg-primary transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></span>
          </a>
        
        <a href="#praxis" class="nav-link text-high hover:text-primary px-3 py-2 text-sm font-medium transition-all duration-300 relative group">
            <span>Praxis</span>
            <span class="absolute bottom-0 left-0 w-full h-0.5 bg-primary transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></span>
          </a>
        <a href="impressum" class="nav-link text-high hover:text-primary px-3 py-2 text-sm font-medium transition-all duration-300 relative group">
          <span>Impressum</span>
          <span class="absolute bottom-0 left-0 w-full h-0.5 bg-primary transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></span>
        </a>
        <a href="datenschutz" class="nav-link text-high hover:text-primary px-3 py-2 text-sm font-medium transition-all duration-300 relative group">
          <span>Datenschutz</span>
          <span class="absolute bottom-0 left-0 w-full h-0.5 bg-primary transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></span>
        </a>
        <a href="#kontakt" class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:scale-105 transform shadow-lg">
          <span>Kontakt</span>
          </a>
        </div>
        <!-- Mobile Menu Button -->
        <div class="md:hidden">
          <button class="hamburger flex flex-col justify-center items-center w-6 h-6 space-y-1 focus:outline-none">
            <span class="block w-5 h-0.5 bg-primary rounded-full transition-all duration-300"></span>
            <span class="block w-5 h-0.5 bg-primary rounded-full transition-all duration-300"></span>
            <span class="block w-5 h-0.5 bg-primary rounded-full transition-all duration-300"></span>
          </button>
        </div>
      </div>
    </div>
  </nav>
  <!-- Mobile Menu (Dropdown under navbar) -->
  <div class="mobile-menu">
    <div class="overlay absolute inset-0"></div>
    <div class="mobile-dropdown bg-white/90 border border-white/30 rounded-2xl shadow-lg">
      <div class="flex items-center justify-between px-5 py-3">
        <a href="/" class="flex items-center gap-3 text-primary font-semibold" aria-label="Startseite">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor"><path d="M3 10.5L12 3l9 7.5V20a2 2 0 0 1-2 2h-5v-6H10v6H5a2 2 0 0 1-2-2v-9.5z"/></svg>
          <span>Startseite</span>
        </a>
        <button class="close-mobile w-8 h-8 rounded-full bg-white/50 hover:bg-white/70 flex items-center justify-center" aria-label="Men√º schlie√üen">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-700" viewBox="0 0 24 24" fill="currentColor"><path d="M6.225 4.811 4.811 6.225 10.586 12l-5.775 5.775 1.414 1.414L12 13.414l5.775 5.775 1.414-1.414L13.414 12l5.775-5.775-1.414-1.414L12 10.586 6.225 4.811z"/></svg>
        </button>
      </div>
      <nav class="px-2 py-2">
        <a href="#aktuelles" class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10">
          <i class="fas fa-newspaper text-primary"></i>
          <span class="text-high font-medium">Aktuelles</span>
        </a>
        <a href="#leistungen" class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10">
          <i class="fas fa-list text-primary"></i>
          <span class="text-high font-medium">Leistungen</span>
        </a>
        <a href="#praxis" class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10">
          <i class="fas fa-clinic-medical text-primary"></i>
          <span class="text-high font-medium">Praxis</span>
        </a>
        <a href="#kontakt" class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10">
          <i class="fas fa-envelope text-primary"></i>
          <span class="text-high font-medium">Kontakt</span>
        </a>
        <a href="impressum" class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10">
          <i class="fas fa-file-contract text-primary"></i>
          <span class="text-high font-medium">Impressum</span>
        </a>
        <a href="datenschutz" class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-white/10">
          <i class="fas fa-shield-alt text-primary"></i>
          <span class="text-high font-medium">Datenschutz</span>
        </a>
      </nav>
    </div>
  </div>
  <main>
    <!-- Hero Section -->
    <section id="home" class="pt-8 pb-20 min-h-screen flex items-center justify-center relative">
      <div class="absolute inset-0 w-full h-full bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1200&q=80');"></div>
      <div class="absolute inset-0 bg-black/40"></div>
      <div class="relative max-w-7xl w-full mx-auto shadow-card permanent-gradient-border">
        <div class="p-12 bg-white rounded-card flex flex-col items-center text-center gap-8">
        <!-- Hero content -->
          <div class="relative">
            <div class="absolute -inset-2 bg-gradient-to-r from-blue-100 to-green-100 rounded-full opacity-30 animate-pulse"></div>
            <img src="doctor.png" alt="Dr. Ibrahim Yilmaz" class="relative w-40 h-40 rounded-full border-4 border-white shadow-xl bg-white object-cover object-top mx-auto ring-4 ring-blue-100">
          </div>
          
          <div class="space-y-4">
            <div class="inline-block bg-gradient-to-r from-blue-600 to-green-600 text-white text-center rounded-2xl px-6 py-3 shadow-lg">
              <div class="text-xl font-bold font-playfair">Ibrahim Halil Yilmaz</div>
              <div class="text-sm opacity-95 font-poppins">Facharzt f√ºr Innere Medizin</div>
            </div>
          </div>
          
          <div class="space-y-6 max-w-4xl">
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold font-playfair leading-tight">
              <span class="text-gray-800">Herzlich Willkommen</span>
              <br>
              <span class="text-gray-700">in Ihrer</span>
              <br>
              <span class="bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent">Internistischen Hausarztpraxis</span>
              <br>
              <span class="text-gray-800">Yilmaz in Krumbach</span>
            </h1>
            
            <p class="text-xl md:text-2xl text-gray-600 font-poppins font-medium leading-relaxed">
              Kompetente, freundliche und moderne medizinische Betreuung f√ºr die ganze Familie in Krumbach.
            </p>
          </div>
          
          <div class="pt-4">
            <a href="#kontakt" class="inline-flex items-center gap-3 bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 text-white px-10 py-4 rounded-full text-xl font-semibold font-poppins shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300">
              Kontakt aufnehmen
              <svg class="w-6 h-6 transform group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Aktuelles (News) Section -->
    <section id="aktuelles" class="py-20 bg-white" style="contain: layout style paint;">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-4xl md:text-5xl font-bold text-center mb-16 text-high font-playfair">Aktuelles</h2>
        <div class="flex justify-center">
          <!-- Single News Card -->
          <article class="glass-card rounded-card shadow-card-hover overflow-hidden card-hover-lift max-w-3xl relative group">
            <div class="absolute inset-0 bg-gradient-to-br from-blue-50 via-white to-purple-50 opacity-80 group-hover:opacity-90 transition-opacity duration-300"></div>
            <div class="relative p-10">
              <div class="flex items-center gap-4 mb-8">
                <div class="w-16 h-16 card-gradient-warning rounded-full flex items-center justify-center shadow-lg transform group-hover:scale-110 transition-transform duration-300">
                  <i class="fas fa-info-circle text-white text-2xl"></i>
                </div>
                <span class="inline-block card-gradient-info text-white text-sm font-semibold rounded-pill px-6 py-3 font-poppins shadow-lg">Wichtige Information</span>
              </div>
              <h3 class="text-3xl font-bold text-gradient-primary mb-6 font-playfair">Info Text f√ºr die Praxis</h3>
              <div class="text-medium text-lg leading-relaxed font-poppins space-y-4">
                <p>Liebe Patientinnen und Patienten,</p>
                <p>wir planen die Er√∂ffnung unserer Praxis zum Montag, den 6. Oktober und freuen uns, Sie willkommen zu hei√üen und k√ºnftig medizinisch betreuen zu d√ºrfen.</p>
                <p>Da wir die Praxis nicht √ºbernehmen, sondern neu gr√ºnden, liegen uns keine Vor-Unterlagen vor. Wir nehmen Sie gerne als Patienten auf, kommen Sie hierf√ºr einfach in die Praxis und bringen Sie bitte folgendes mit:</p>
                <ul class="list-disc pl-6 space-y-2 text-base">
                  <li>Versichertenkarte</li>
                  <li>Aktuellste Befunde und Medikation</li>
                  <li>Den ausgef√ºllten und unterschrieben Patienten-Aufnahmebogen: Diesen finden Sie als PDF-Datei auf unserer Website, k√∂nnen diesen uns auch gerne per Mail zuschicken (E-Mail Adresse siehe Website, info@hausarzt-yilmaz-krumbach.de)</li>
                </ul>
                <p>So k√∂nnen wir uns bestm√∂glich um Ihre Gesundheit k√ºmmern.</p>
                <p>Wir freuen uns auf Sie!</p>
                <p>Ihr Praxisteam</p>
              </div>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- Leistungen (Services) Section -->
    <section id="leistungen" class="py-20 bg-subtle" style="contain: layout style paint;">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-4xl md:text-5xl font-bold text-center mb-16 text-high font-playfair">Unsere Leistungen</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="flip-card">
            <div class="flip-card-inner">
              <div class="flip-card-front glass-card p-8 rounded-card shadow-card-hover card-hover-lift">
                <div class="text-center h-full flex flex-col items-center justify-center">
                  <div class="w-20 h-20 card-gradient-primary rounded-full mx-auto flex items-center justify-center mb-6 shadow-lg transform group-hover:scale-110 transition-transform duration-300">
                    <i class="fas fa-stethoscope text-4xl text-white"></i>
                  </div>
                  <h3 class="text-2xl font-bold mb-4 text-gradient-primary font-playfair">Dieser Bereich wird noch erstellt</h3>
                  <p class="text-medium font-poppins">.</p>
                </div>
              </div>
              <div class="flip-card-back rounded-card shadow-card" style="background-image: url('https://images.unsplash.com/photo-1519494026892-80bbd2d6fd07?auto=format&fit=crop&w=400&q=60');">
                <div class="flip-card-back-overlay rounded-card">
                  <p class="text-lg font-medium">.</p>
                </div>
              </div>
            </div>
          </div>
          <div class="flip-card">
            <div class="flip-card-inner">
              <div class="flip-card-front glass-card p-8 rounded-card shadow-card-hover card-hover-lift">
                <div class="text-center h-full flex flex-col items-center justify-center">
                  <div class="w-20 h-20 card-gradient-success rounded-full mx-auto flex items-center justify-center mb-6 shadow-lg transform group-hover:scale-110 transition-transform duration-300">
                    <i class="fas fa-syringe text-4xl text-white"></i>
                  </div>
                  <h3 class="text-2xl font-bold mb-4 text-gradient-success font-playfair">Dieser Bereich wird noch erstellt</h3>
                  <p class="text-medium font-poppins">.</p>
                </div>
              </div>
              <div class="flip-card-back rounded-card shadow-card" style="background-image: url('https://images.unsplash.com/photo-1504439468489-c8920d796a29?auto=format&fit=crop&w=400&q=60');">
                <div class="flip-card-back-overlay rounded-card">
                  <p class="text-lg font-medium">.</p>
                </div>
              </div>
            </div>
          </div>
          <div class="flip-card">
            <div class="flip-card-inner">
              <div class="flip-card-front glass-card p-8 rounded-card shadow-card-hover card-hover-lift">
                <div class="text-center h-full flex flex-col items-center justify-center">
                  <div class="w-20 h-20 card-gradient-secondary rounded-full mx-auto flex items-center justify-center mb-6 shadow-lg transform group-hover:scale-110 transition-transform duration-300">
                    <i class="fas fa-home text-4xl text-white"></i>
                  </div>
                  <h3 class="text-2xl font-bold mb-4 text-gradient-secondary font-playfair">Dieser Bereich wird noch erstellt</h3>
                  <p class="text-medium font-poppins">.</p>
                </div>
              </div>
              <div class="flip-card-back rounded-card shadow-card" style="background-image: url('https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=400&q=60');">
                <div class="flip-card-back-overlay rounded-card">
                  <p class="text-lg font-medium">.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Praxis (Practice) Section -->
    <section id="praxis" class="py-20 bg-tint-blue" style="contain: layout style paint;">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-4xl md:text-5xl font-bold text-center mb-16 text-high font-playfair">Unsere Praxis</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
          <div class="glass-card p-8 rounded-card shadow-card-hover card-hover-lift">
            <h3 class="text-2xl font-bold text-gradient-primary mb-4 font-playfair">√ñffnungszeiten</h3>
            <div class="space-y-2 text-sm mt-1">
              <div class="flex justify-between">
                <span class="text-medium font-poppins">Montag:</span>
                <span class="text-high font-semibold font-poppins">8‚Äì12 Uhr und 15‚Äì19 Uhr</span>
              </div>
              <div class="flex justify-between">
                <span class="text-medium font-poppins">Dienstag:</span>
                <span class="text-high font-semibold font-poppins">8‚Äì12 Uhr und 15‚Äì18 Uhr</span>
              </div>
              <div class="flex justify-between">
                <span class="text-medium font-poppins">Mittwoch:</span>
                <span class="text-high font-semibold font-poppins">8‚Äì12 Uhr</span>
              </div>
              <div class="flex justify-between">
                <span class="text-medium font-poppins">Donnerstag:</span>
                <span class="text-high font-semibold font-poppins">8‚Äì12 Uhr und 15‚Äì18 Uhr</span>
              </div>
              <div class="flex justify-between">
                <span class="text-medium font-poppins">Freitag:</span>
                <span class="text-high font-semibold font-poppins">8‚Äì12 Uhr</span>
              </div>
              <div class="flex justify-between">
                <span class="text-medium font-poppins">Samstag und Sonntag:</span>
                <span class="text-high font-semibold font-poppins">geschlossen</span>
              </div>
            </div>
          </div>
          <div class="glass-card p-8 rounded-card shadow-card-hover card-hover-lift flex flex-col gap-6">
            <h3 class="text-2xl font-bold text-gradient-primary mb-4 font-playfair">Warum unsere Praxis?</h3>
            <ul class="text-medium list-disc pl-8">
              <li>Moderne Ausstattung und freundliches Ambiente</li>
              <li>Individuelle Betreuung und Beratung</li>
              <li>Barrierefreier Zugang</li>
              <li>Gute Erreichbarkeit mit √ñPNV</li>
            </ul>
            <div class="flex flex-wrap gap-4 mt-6">
              <div class="flex items-center bg-tint-blue px-4 py-2 rounded-full">
                <i class="fas fa-check-circle text-primary mr-2"></i>
                <span class="text-high">Kompetent</span>
              </div>
              <div class="flex items-center bg-tint-blue px-4 py-2 rounded-full">
                <i class="fas fa-check-circle text-primary mr-2"></i>
                <span class="text-high">Freundlich</span>
              </div>
              <div class="flex items-center bg-tint-blue px-4 py-2 rounded-full">
                <i class="fas fa-check-circle text-primary mr-2"></i>
                <span class="text-high">Modern</span>
              </div>
              <div class="flex items-center bg-tint-blue px-4 py-2 rounded-full">
                <i class="fas fa-check-circle text-primary mr-2"></i>
                <span class="text-high">Barrierefrei</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Kontakt (Contact) Section -->
    <section id="kontakt" class="py-24 bg-subtle" style="contain: layout style paint;">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-4xl md:text-5xl font-bold text-center mb-16 text-high font-playfair">Kontakt</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-16">
          <div class="glass-card p-8 rounded-card shadow-card-hover card-hover-lift animate-fade-in">
            <h3 class="text-2xl font-bold text-gradient-primary mb-6 font-playfair">Kontaktformular</h3>
                        <form id="contact-form" action="contact_handler.php" method="POST" class="space-y-4">
              <!-- CSRF Token -->
              <input type="hidden" name="csrf_token" id="csrf_token" value="">
              
              <!-- Form Start Time (for timing protection) -->
              <input type="hidden" name="form_start_time" id="form_start_time" value="">
              
              <!-- Honeypot Field (must remain empty) -->
              <input type="text" name="website" id="website" style="display: none !important; visibility: hidden !important; position: absolute !important; left: -9999px !important;" tabindex="-1" autocomplete="off">
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label for="vorname" class="block text-sm font-medium text-high mb-2 font-poppins">Vorname</label>
                  <input type="text" id="vorname" name="user_vorname" maxlength="50" class="form-input mt-1 block w-full rounded-lg border-2 border-gray-300 bg-white/80 px-4 py-3 shadow-sm transition-colors duration-200 focus:border-primary focus:ring-2 focus:ring-primary/20" required aria-label="Vorname" aria-required="true">
                </div>
                <div>
                  <label for="nachname" class="block text-sm font-medium text-high mb-2 font-poppins">Nachname</label>
                  <input type="text" id="nachname" name="user_nachname" maxlength="50" class="form-input mt-1 block w-full rounded-lg border-2 border-gray-300 bg-white/80 px-4 py-3 shadow-sm transition-colors duration-200 focus:border-primary focus:ring-2 focus:ring-primary/20" required aria-label="Nachname" aria-required="true">
                </div>
              </div>
              <div>
                <label for="email" class="block text-sm font-medium text-high mb-2 font-poppins">E-Mail</label>
                <input type="email" id="email" name="user_email" maxlength="100" class="form-input mt-1 block w-full rounded-lg border-2 border-gray-300 bg-white/80 px-4 py-3 shadow-sm transition-colors duration-200 focus:border-primary focus:ring-2 focus:ring-primary/20" required aria-label="Ihre E-Mail" aria-required="true">
              </div>
              <div>
                <label for="message" class="block text-sm font-medium text-high mb-2 font-poppins">Nachricht</label>
                <textarea id="message" name="user_message" rows="9" maxlength="2000" class="form-input mt-1 block w-full rounded-lg border-2 border-gray-300 bg-white/80 px-4 py-3 shadow-sm transition-colors duration-200 focus:border-primary focus:ring-2 focus:ring-primary/20" required aria-label="Ihre Nachricht" aria-required="true"></textarea>
                <div class="text-sm text-gray-500 mt-1 font-poppins">
                  <span id="char-count">0</span>/2000 Zeichen
                </div>
              </div>
              <div>
                <button type="submit" id="submit-btn" class="cta-button w-full card-gradient-primary text-white py-4 rounded-btn font-semibold text-lg hover:shadow-lg transition-all duration-200 will-change-transform">Absenden</button>
                <div id="form-message" class="mt-2 font-poppins hidden"></div>
                <div id="loading-message" class="mt-2 text-blue-600 font-poppins hidden">
                  <i class="fas fa-spinner fa-spin mr-2"></i>Nachricht wird gesendet...
                </div>
              <a href="erstpatientenbogen.pdf" download class="mt-4 w-full inline-flex items-center justify-center gap-3 bg-white text-primary px-6 py-3 rounded-btn font-semibold border border-primary hover:bg-primary hover:text-white transition-all duration-200">
                Erstpatientenbogen als PDF herunterladen
                <i class="fas fa-download"></i>
              </a>
              </div>
            </form>
          </div>
                      <div class="glass-card p-8 rounded-card shadow-card-hover card-hover-lift flex flex-col gap-6">
              <h3 class="text-2xl font-bold text-gradient-primary mb-6 font-playfair">Kontaktinformationen</h3>
              <div class="space-y-6">
                <div class="flex items-center gap-4 p-4 bg-white/50 rounded-xl hover:bg-white/70 transition-colors duration-200 will-change-transform">
                  <div class="w-12 h-12 card-gradient-success rounded-full flex items-center justify-center shadow-lg">
                    <i class="fas fa-phone-alt text-white text-lg"></i>
                  </div>
                  <div>
                    <div class="text-sm text-medium font-poppins">Telefon</div>
                    <div class="text-high font-semibold font-poppins">08282-6368880</div>
                  </div>
                </div>
                <div class="flex items-center gap-4 p-4 bg-white/50 rounded-xl hover:bg-white/70 transition-colors duration-200 will-change-transform">
                  <div class="w-12 h-12 card-gradient-info rounded-full flex items-center justify-center shadow-lg">
                  <i class="fas fa-envelope text-white text-lg"></i>
                  </div>
                  <div>
                    <div class="text-sm text-medium font-poppins">E-Mail</div>
                    <div class="text-high font-semibold font-poppins">info@hausarzt-yilmaz-krumbach.de</div>
                  </div>
                </div>
                <div class="flex items-start gap-4 p-4 bg-white/50 rounded-xl hover:bg-white/70 transition-colors duration-200 will-change-transform">
                  <div class="w-12 h-12 card-gradient-warning rounded-full flex items-center justify-center shadow-lg">
                    <i class="fas fa-map-marker-alt text-white text-lg"></i>
                  </div>
                  <div>
                    <div class="text-sm text-medium font-poppins">Adresse</div>
                    <div class="text-high font-semibold font-poppins">
                      <div>Bahnhofstr. 49</div>
                      <div>86381 Krumbach, Bayern</div>
                    </div>
                  </div>
                </div>
                
                <!-- Opening Times Section -->
                <div class="flex items-start gap-4 p-4 bg-white/50 rounded-xl hover:bg-white/70 transition-colors duration-200 will-change-transform">
                  <div class="w-12 h-12 card-gradient-primary rounded-full flex items-center justify-center shadow-lg">
                    <i class="fas fa-clock text-white text-lg"></i>
                  </div>
                  <div class="flex-1">
                    <div class="text-sm text-medium font-poppins">√ñffnungszeiten</div>
                    <div class="space-y-2 text-sm mt-3">
                      <div class="flex justify-between">
                        <span class="text-medium font-poppins">Montag:</span>
                        <span class="text-high font-semibold font-poppins">8‚Äì12 Uhr und 15‚Äì19 Uhr</span>
                      </div>
                      <div class="flex justify-between">
                        <span class="text-medium font-poppins">Dienstag:</span>
                        <span class="text-high font-semibold font-poppins">8‚Äì12 Uhr und 15‚Äì18 Uhr</span>
                      </div>
                      <div class="flex justify-between">
                        <span class="text-medium font-poppins">Mittwoch:</span>
                        <span class="text-high font-semibold font-poppins">8‚Äì12 Uhr</span>
                      </div>
                      <div class="flex justify-between">
                        <span class="text-medium font-poppins">Donnerstag:</span>
                        <span class="text-high font-semibold font-poppins">8‚Äì12 Uhr und 15‚Äì18 Uhr</span>
                      </div>
                      <div class="flex justify-between">
                        <span class="text-medium font-poppins">Freitag:</span>
                        <span class="text-high font-semibold font-poppins">8‚Äì12 Uhr</span>
                      </div>
                      <div class="flex justify-between">
                        <span class="text-medium font-poppins">Samstag und Sonntag:</span>
                        <span class="text-high font-semibold font-poppins">geschlossen</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            <div class="rounded-card overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-200 will-change-transform">
              <iframe title="Praxis Lage" src="https://www.openstreetmap.org/export/embed.html?bbox=10.3588%2C48.2464%2C10.3598%2C48.2474&amp;layer=mapnik&amp;marker=48.2472%2C10.3593" style="border:1px solid #dde0e5;width:100%;height:240px;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Auto Popup Modal -->
    <div id="autoPopup" class="fixed inset-0 z-50 hidden">
      <div class="absolute inset-0 bg-black/50"></div>
      <div class="absolute inset-0 flex items-center justify-center p-4">
        <div class="bg-white rounded-card shadow-2xl max-w-2xl w-full mx-4 opacity-0 transition-opacity duration-200 ease-out will-change-opacity" id="popupContent">
          <div class="p-8">
            <div class="flex items-center justify-between mb-6">
              <div class="flex items-center gap-3">
                <div class="w-12 h-12 bg-gradient-to-br from-accent-yellow to-accent-yellow/80 rounded-full flex items-center justify-center">
                  <i class="fas fa-info-circle text-white text-xl"></i>
                </div>
                <span class="inline-block bg-accent-yellow text-white text-sm font-semibold rounded-pill px-4 py-2">Wichtige Information</span>
              </div>
              <button onclick="closePopup()" class="w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors duration-200">
                <i class="fas fa-times text-gray-600"></i>
              </button>
            </div>
            <h3 class="text-2xl font-semibold text-high mb-4">Info Text f√ºr die Praxis</h3>
            <div class="text-medium text-lg leading-relaxed mb-6 space-y-4">
              <p>Liebe Patientinnen und Patienten,</p>
              <p>wir planen die Er√∂ffnung unserer Praxis zum Montag, den 6. Oktober und freuen uns, Sie willkommen zu hei√üen und k√ºnftig medizinisch betreuen zu d√ºrfen.</p>
              <p>Da wir die Praxis nicht √ºbernehmen, sondern neu gr√ºnden, liegen uns keine Vor-Unterlagen vor. Wir nehmen Sie gerne als Patienten auf, kommen Sie hierf√ºr einfach in die Praxis und bringen Sie bitte folgendes mit:</p>
              <ul class="list-disc pl-6 space-y-2 text-base">
                <li>Versichertenkarte</li>
                <li>Aktuellste Befunde und Medikation</li>
                <li>Den ausgef√ºllten und unterschrieben Patienten-Aufnahmebogen: Diesen finden Sie als PDF-Datei auf unserer Website, k√∂nnen diesen uns auch gerne per Mail zuschicken (E-Mail Adresse siehe Website, info@hausarzt-yilmaz-krumbach.de)</li>
              </ul>
              <p>So k√∂nnen wir uns bestm√∂glich um Ihre Gesundheit k√ºmmern.</p>
              <p>Wir freuen uns auf Sie!</p>
              <p>Ihr Praxisteam</p>
            </div>
            <div class="text-center">
              <button onclick="closePopup()" class="bg-primary hover:bg-primary/90 text-white px-8 py-3 rounded-full text-lg font-semibold transition-colors duration-200 shadow-lg">
                Verstanden
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <!-- Footer -->
  <footer class="bg-white border-t border-gray-200 py-8 mt-16">
    <div class="max-w-7xl mx-auto px-4 flex flex-col md:flex-row justify-between items-center gap-4">
      <div class="text-gray-500 text-sm">&copy; 2025 Hausarztpraxis Yilmaz Alle Rechte vorbehalten.</div>
      <div class="flex gap-4">
        <a href="impressum" class="text-gray-400 hover:text-primary transition-colors">Impressum</a>
        <a href="datenschutz" class="text-gray-400 hover:text-primary transition-colors">Datenschutz</a>
        <button id="footer-cookie-settings" class="text-gray-400 hover:text-primary transition-colors bg-transparent border-none cursor-pointer">Cookie-Einstellungen</button>
      </div>
    </div>
  </footer>
  <script>
    // Floating navbar scroll effect
    let ticking = false;
    function updateNavbar() {
        const nav = document.getElementById('floating-nav');
        if (window.scrollY > 100) {
            nav.classList.add('top-4');
            nav.classList.remove('top-6');
        } else {
            nav.classList.remove('top-4');
            nav.classList.add('top-6');
        }
        ticking = false;
    }
    
    window.addEventListener('scroll', function() {
        if (!ticking) {
            requestAnimationFrame(updateNavbar);
            ticking = true;
        }
    });

    // Initialize form functionality
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('form_start_time').value = Math.floor(Date.now() / 1000);
        generateCSRFToken();
        
        // Character counter
        const messageField = document.getElementById('message');
        const charCount = document.getElementById('char-count');
        
        messageField.addEventListener('input', function() {
            const currentLength = this.value.length;
            charCount.textContent = currentLength;
            
            if (currentLength > 1800) {
                charCount.style.color = '#ef4444';
            } else if (currentLength > 1500) {
                charCount.style.color = '#f59e0b';
            } else {
                charCount.style.color = '#6b7280';
            }
        });
    });

    // Generate CSRF token
    async function generateCSRFToken() {
        try {
            const response = await fetch('csrf_token_generator.php');
            const data = await response.json();
            
            if (data.csrf_token) {
                document.getElementById('csrf_token').value = data.csrf_token;
            } else {
                document.getElementById('csrf_token').value = generateRandomToken();
            }
        } catch (error) {
            document.getElementById('csrf_token').value = generateRandomToken();
        }
    }

    function generateRandomToken() {
        return Math.random().toString(36).substring(2) + Date.now().toString(36);
    }

    // Spam detection
    function checkClientSpam(text) {
        const spamPatterns = [
            /https?:\/\/[^\s]+.*https?:\/\/[^\s]+.*https?:\/\/[^\s]+/,
            /(.{3,})\1{4,}/,
            /(viagra|casino|poker|crypto|bitcoin)/i,
            /^.{0,5}$/,
            /^.{2001,}$/
        ];
        
        return spamPatterns.some(pattern => pattern.test(text));
    }

    // Contact form handler
    document.getElementById('contact-form').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const form = this;
        const submitBtn = document.getElementById('submit-btn');
        const formMessage = document.getElementById('form-message');
        const loadingMessage = document.getElementById('loading-message');
        
        const vorname = document.getElementById('vorname').value.trim();
        const nachname = document.getElementById('nachname').value.trim();
        const email = document.getElementById('email').value.trim();
        const message = document.getElementById('message').value.trim();
        
        // Spam and validation checks
        const allContent = vorname + ' ' + nachname + ' ' + message;
        if (checkClientSpam(allContent)) {
            formMessage.textContent = 'Nachricht enth√§lt nicht erlaubte Inhalte.';
            formMessage.className = 'mt-2 text-red-600 font-poppins';
            formMessage.classList.remove('hidden');
            return;
        }
        
        if (vorname.length < 2 || nachname.length < 2) {
            formMessage.textContent = 'Vor- und Nachname m√ºssen mindestens 2 Zeichen lang sein.';
            formMessage.className = 'mt-2 text-red-600 font-poppins';
            formMessage.classList.remove('hidden');
            return;
        }
        
        if (message.length < 10) {
            formMessage.textContent = 'Die Nachricht muss mindestens 10 Zeichen lang sein.';
            formMessage.className = 'mt-2 text-red-600 font-poppins';
            formMessage.classList.remove('hidden');
            return;
        }
        
        const formStartTime = parseInt(document.getElementById('form_start_time').value);
        const currentTime = Math.floor(Date.now() / 1000);
        if ((currentTime - formStartTime) < 3) {
            formMessage.textContent = 'Bitte f√ºllen Sie das Formular sorgf√§ltig aus.';
            formMessage.className = 'mt-2 text-red-600 font-poppins';
            formMessage.classList.remove('hidden');
            return;
        }
        
        submitBtn.disabled = true;
        submitBtn.textContent = 'Wird gesendet...';
        loadingMessage.classList.remove('hidden');
        formMessage.classList.add('hidden');
        
        try {
            const formData = new FormData(form);
            const response = await fetch('contact_handler.php', {
                method: 'POST',
                body: formData
            });
            
            const result = await response.json();
            loadingMessage.classList.add('hidden');
            
            if (result.success) {
                formMessage.textContent = result.message;
                formMessage.className = 'mt-2 text-green-600 font-poppins';
                formMessage.classList.remove('hidden');
                
                form.reset();
                document.getElementById('form_start_time').value = Math.floor(Date.now() / 1000);
                document.getElementById('char-count').textContent = '0';
                generateCSRFToken();
                
                if (result.redirect) {
                    setTimeout(() => {
                        window.location.href = result.redirect;
                    }, 1500);
                } else {
                    setTimeout(() => {
                        submitBtn.disabled = false;
                        submitBtn.textContent = 'Absenden';
                    }, 3000);
                }
            } else {
                formMessage.textContent = result.message;
                formMessage.className = 'mt-2 text-red-600 font-poppins';
                formMessage.classList.remove('hidden');
                
                submitBtn.disabled = false;
                submitBtn.textContent = 'Absenden';
                generateCSRFToken();
            }
        } catch (error) {
            loadingMessage.classList.add('hidden');
            formMessage.textContent = 'Netzwerkfehler. Bitte versuchen Sie es sp√§ter erneut.';
            formMessage.className = 'mt-2 text-red-600 font-poppins';
            formMessage.classList.remove('hidden');
            
            submitBtn.disabled = false;
            submitBtn.textContent = 'Absenden';
        }
    });

    // Auto popup functionality
    function openPopup() {
        const popup = document.getElementById('autoPopup');
        const content = document.getElementById('popupContent');
        
        popup.classList.remove('hidden');
        requestAnimationFrame(() => {
            content.classList.remove('opacity-0');
            content.classList.add('opacity-100');
        });
    }

    function closePopup() {
        const popup = document.getElementById('autoPopup');
        const content = document.getElementById('popupContent');
        
        localStorage.setItem('hasSeenPracticeOpeningPopup', 'true');
        
        content.classList.remove('opacity-100');
        content.classList.add('opacity-0');
        
        setTimeout(() => {
            popup.classList.add('hidden');
        }, 200);
    }

    window.addEventListener('load', function() {
        const hasSeenPopup = localStorage.getItem('hasSeenPracticeOpeningPopup');
        
        if (!hasSeenPopup) {
            setTimeout(openPopup, 500);
        }
    });

    document.getElementById('autoPopup').addEventListener('click', function(e) {
        if (e.target === this) {
            closePopup();
        }
    });

    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closePopup();
        }
    });

    // Cookie Banner Functionality
    class CookieManager {
        constructor() {
            this.cookieBanner = document.getElementById('cookie-banner');
            this.cookieModal = document.getElementById('cookie-settings-modal');
            this.analyticsCheckbox = document.getElementById('analytics-cookies');
            this.marketingCheckbox = document.getElementById('marketing-cookies');
            
            this.init();
        }

        init() {
            // Check if user has already made a choice
            const cookieConsent = this.getCookieConsent();
            
            if (!cookieConsent) {
                // Show banner after a short delay
                setTimeout(() => {
                    this.showBanner();
                }, 1000);
            } else {
                // Apply saved preferences
                this.applyCookiePreferences(cookieConsent);
            }

            // Event listeners
            document.getElementById('cookie-accept-all').addEventListener('click', () => {
                this.acceptAllCookies();
            });

            document.getElementById('cookie-accept-essential').addEventListener('click', () => {
                this.acceptEssentialCookies();
            });

            document.getElementById('cookie-settings').addEventListener('click', () => {
                this.openSettingsModal();
            });

            document.getElementById('close-cookie-settings').addEventListener('click', () => {
                this.closeSettingsModal();
            });

            document.getElementById('save-cookie-settings').addEventListener('click', () => {
                this.saveSettings();
            });

            document.getElementById('cancel-cookie-settings').addEventListener('click', () => {
                this.closeSettingsModal();
            });

            // Footer cookie settings button
            const footerCookieSettings = document.getElementById('footer-cookie-settings');
            if (footerCookieSettings) {
                footerCookieSettings.addEventListener('click', () => {
                    this.openSettingsModal();
                });
            }

            // Close modal when clicking outside
            this.cookieModal.addEventListener('click', (e) => {
                if (e.target === this.cookieModal) {
                    this.closeSettingsModal();
                }
            });

            // Close modal with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !this.cookieModal.classList.contains('hidden')) {
                    this.closeSettingsModal();
                }
            });
        }

        showBanner() {
            this.cookieBanner.classList.remove('translate-y-full');
        }

        hideBanner() {
            this.cookieBanner.classList.add('translate-y-full');
        }

        openSettingsModal() {
            this.cookieModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        closeSettingsModal() {
            this.cookieModal.classList.add('hidden');
            document.body.style.overflow = '';
        }

        acceptAllCookies() {
            const consent = {
                essential: true,
                analytics: true,
                marketing: true,
                timestamp: new Date().toISOString()
            };
            
            this.setCookieConsent(consent);
            this.applyCookiePreferences(consent);
            this.hideBanner();
        }

        acceptEssentialCookies() {
            const consent = {
                essential: true,
                analytics: false,
                marketing: false,
                timestamp: new Date().toISOString()
            };
            
            this.setCookieConsent(consent);
            this.applyCookiePreferences(consent);
            this.hideBanner();
        }

        saveSettings() {
            const consent = {
                essential: true, // Always true
                analytics: this.analyticsCheckbox.checked,
                marketing: this.marketingCheckbox.checked,
                timestamp: new Date().toISOString()
            };
            
            this.setCookieConsent(consent);
            this.applyCookiePreferences(consent);
            this.closeSettingsModal();
            this.hideBanner();
        }

        getCookieConsent() {
            const consent = localStorage.getItem('cookieConsent');
            return consent ? JSON.parse(consent) : null;
        }

        setCookieConsent(consent) {
            localStorage.setItem('cookieConsent', JSON.stringify(consent));
        }

        applyCookiePreferences(consent) {
            // Essential cookies are always enabled
            if (consent.analytics) {
                this.enableAnalyticsCookies();
            } else {
                this.disableAnalyticsCookies();
            }

            if (consent.marketing) {
                this.enableMarketingCookies();
            } else {
                this.disableMarketingCookies();
            }

            // Update checkboxes in settings modal
            if (this.analyticsCheckbox) {
                this.analyticsCheckbox.checked = consent.analytics;
            }
            if (this.marketingCheckbox) {
                this.marketingCheckbox.checked = consent.marketing;
            }
        }

        enableAnalyticsCookies() {
            // Enable Google Fonts and Font Awesome
            // These are loaded via CDN, so we just track the consent
            console.log('Analytics cookies enabled');
        }

        disableAnalyticsCookies() {
            // Disable Google Fonts and Font Awesome
            // Note: This is a limitation of CDN services
            // In a production environment, you might want to load fonts locally
            console.log('Analytics cookies disabled');
        }

        enableMarketingCookies() {
            // Enable OpenStreetMap and Unsplash
            console.log('Marketing cookies enabled');
        }

        disableMarketingCookies() {
            // Disable OpenStreetMap and Unsplash
            // Note: This is a limitation of external services
            console.log('Marketing cookies disabled');
        }
    }

    // Initialize cookie manager when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
        new CookieManager();
    });

    // Mobile menu toggle with proper animation classes
    document.addEventListener('DOMContentLoaded', function() {
      const hamburger = document.querySelector('.hamburger');
      const mobileMenu = document.querySelector('.mobile-menu');
      const overlay = mobileMenu ? mobileMenu.querySelector('.overlay') : null;
      const closeBtn = mobileMenu ? mobileMenu.querySelector('.close-mobile') : null;
      const mobileLinks = mobileMenu ? mobileMenu.querySelectorAll('a') : [];
      
      const toggleMobileMenu = (open) => {
        if (!mobileMenu) return;
        // add opening/closing classes to enhance the goo animation timing
        mobileMenu.classList.remove('opening','closing');
        if (open) {
          mobileMenu.classList.add('opening');
          mobileMenu.classList.add('active');
        } else {
          mobileMenu.classList.add('closing');
          // Wait for animation to finish before disabling pointer events
          setTimeout(() => {
            mobileMenu.classList.remove('active');
            mobileMenu.classList.remove('closing');
          }, 210);
        }
        document.body.classList.toggle('menu-open', open);
        if (hamburger) hamburger.classList.toggle('active', open);
      };
      
      if (hamburger && mobileMenu) {
        hamburger.addEventListener('click', () => toggleMobileMenu(!mobileMenu.classList.contains('active')));
      }
      if (overlay) overlay.addEventListener('click', () => toggleMobileMenu(false));
      if (closeBtn) closeBtn.addEventListener('click', () => toggleMobileMenu(false));
      mobileLinks.forEach(l => l.addEventListener('click', () => toggleMobileMenu(false)));
    });

    // Floating navbar scroll effect
    window.addEventListener('scroll', function() {
        const nav = document.getElementById('floating-nav');
        if (window.scrollY > 100) {
            nav.classList.add('top-4');
            nav.classList.remove('top-6');
        } else {
            nav.classList.remove('top-4');
            nav.classList.add('top-6');
        }
    });
  </script>
</body>
</html> 
